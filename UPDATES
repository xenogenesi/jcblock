
	Updates/Additions added after the initial submission:

	1 January, 2009: Added whitelist
	--------------------------------

        As a result of operational experience it became evident that
	the addition of a whitelist capability would be helpful. A whitelist
	file (whitelist.dat) contains entries containing the telephone numbers
	of calls the user definitely wants to accept. The program checks for
	caller ID matches of these entries first. If a match is found, the
	blacklist check is bypassed and the call is accepted.

	The issue came up when it was discovered that some telemarketers use
	cell phones! For cell phone calls, the 'NAME =' field in the caller ID
	string is always: 'Cell Phone   XX', where XX is the originating state
	designator (e.g., CA for California). So using the 'NAME =' field as the
	search string in a blacklist entry would cause all cell phone calls
	from the indicated state to be blocked! In addition, the telemarketers
	use several cell phones (probably as employees come and go), so using
	the 'NMBR =' field in the caller ID as the search string does not catch
	new cell phone callers. Adding a whitelist partially solves this
	problem.

	With a whitelist, the user can include entries that contain the cell
	phone numbers of calls they definitely want to receive from a specific
	state (e.g., CA). Then the cell phone 'NAME =' field for the state (e.g.,
	'Cell Phone   CA') can be used as the search string in a blacklist
	entry. With this arrangement all cell phone calls from the state will
	be blocked *except* the ones with numbers present in the whitelist.

	In certain cases it might be useful to run the program with just a
	whitelist or just a blacklist. The program was modified to support
	these cases. For example, a user might want to *only* accept calls
	from specific numbers. In that case only a whitelist is needed.

	Updates/Additions added after release jcblock_release_2-0

	26 July, 2010: Added libasound comment to README file
	-----------------------------------------------------

	Some user's computers did not have the libasound library or the
	asoundlib.h file installed. Text was added to the README file
	describing how to install these files using a distribution's package
	manager. Search the file for 'asound'. Some minor syntax changes to
	printf and fprintf arguments were made in jcblock.c to satisfy more
	strict type checking by recent versions of gcc.
	
	30 July, 2010: Added #ifdef's to allow conditional compile
	----------------------------------------------------------

	Added Do_TONES and DO_TRUNCATE #ifdef's to allow a user to compile
	the program with/without these features.

	9 August, 2010: Switched from the 5 key to the * key to avoid conflict
	--------------------------------------------------------------

	It is possible that an automatic caller would present a list of
	choices that included the 5 key ("press 1 for...press 5 for..."). If the
	listener pressed the 5 key a blacklist entry for the caller would get
	generated (if pressed within the listening window). To avoid this, the
	key was switched to the star (*, asterisk) key, which is (almost) never
	used.

	17 August, 2010: Added code to handle non-standard caller ID fields
	-------------------------------------------------------------------

	Sometimes a call is received in which the NMBR field is not ten digits
	and/or the NAME field is not 15 ASCII characters. Example:
	--DATE = 081310--TIME = 1930--NMBR = 0--NAME = Unknown--
	Some changes had to be made to the way the KEY-* code constructed a
	blacklist.dat record for this case.

	7 September, 2010 Added code to make sure a blacklist file is present
	---------------------------------------------------------------------

	I had it so the program would run if only a whitelist.dat was present
	(no blacklist.dat file). That didn't make sense -- if a call was not
	caught by a record in the whitelist it got answered anyway. If you
	want to block all calls not in the whitelist, put a single record in
	the blacklist that has a caller ID field that is always present (e.g.,
	'NMBR'). I also updated documentation in the README file.

	16 September, 2010 Added getopt() call to allow serial port selection
	--------------------------------------------------------------------

	The default serial port is: /dev/ttyS0. A different port may be specified
	using call option -p. Example: jcblock -p /dev/portID

	21 September, 2010 Added code to check for malformed list records
	-----------------------------------------------------------------

	blacklist.dat and whitelist.dat records must contain room for the date
	field (so the date can be written to them). If a record does not contain
	the required 26 characters (25 + a '\n'), the record is ignored and an
	error message is printed.

	24 September, 2010 Fixed conflict with telephone answering machines.
	--------------------------------------------------------------------

	Most answering machines are designed to terminate recording when any
	phone on the called line is picked up. The star key feature takes the
	modem off-hook to listen for a key press. This terminates the answering
	machine's record operation. To avoid this, the program was modified so
	that the star key feature is active only if the phone is answered after
	the third ring (normal operation, since the third ring indicates that the
	call was not blocked). The answering machine *must* then be set to pick
	up after the fourth (or later) ring (most people to this). If an answering
	machine is not installed on the same line, a conditional compile flag may
	be commented out to remove this restriction and the star key feature will
	then be available if the call is answered after the third (or later) ring.
	Alternatively, the star key feature may be disabled altogether with a
	conditional compile flag.

	3 October, 2010, Upgraded to Ubuntu 10.04 from 8.04; changes needed.
	--------------------------------------------------------------------

	Ubuntu 10.04 runs Linux 2.6.32-25-generic. The gcc compiler is more
	strict than the one in Ubuntu 8.04, so some changes were needed: Replaced
	fprintf( fpCa, ...) with fputs( fpCa, ...) in file jcblock.c to write a
	record to file callerID.dat. Directory /usr/include/alsa (and hence,
	asoundlib.h) was not present. Loaded package libasound2-dev to correct
	this. To speed up response, replaced the three usleep(500000) calls in
	jcblock.c with usleep(250000). Other distributions using this version of
	Linux (or close) will probably need similar changes.

	16 October, 2010, Additional changes needed for Ubuntu 10.04 upgrade.
	-------------------------------------------------------------------

	Once I got a serial port installed on the new machine that I installed
	Ubuntu 10.04 on, I discovered that the program did not run! I discovered
	that the source of the problem was parameter 'frames' in the tones.c
	file. I had it set to 32 and that value worked fine for the version
	of ALSA included with Ubuntu 8.04. But for Ubuntu 10.04, it needed to
	be raised to 128. See the NOTE: in the file for further details. At
	the present I am using a USB serial port adapter that I got from
	TigerDirect.com (~$15). Its discription is: Sabernt 6 Ft USB 2.0 Serial
	DB9 Adapter W/ Male Thunbscrews. It worked immediately. Just plug it in
	and run: jcblock -p /dev/ttyUSB0. I plan to test a PCI serial port card
	soon.

	29, October, 2010, Switched from Zoom 3048 to USRobotics 5686G modem
	--------------------------------------------------------------------

        I have been using the USRobotics model 5686G modem since
        October 20, 2010 and have seen no errors. I have therefore
        decided to recommend using it instead of the Zoom 3048 modem.

        I used the Zoom modem during most of the development work on
        this project. However, late in the testing I discovered that
        occasionally it did not deliver caller ID data between the first
        and second rings. I tried two 3048 units and saw the same result.
        I also upgraded the firmware in one of them with no effect. I
        sent email to Zoom and got no reply. See the README file for further
	details.

 
